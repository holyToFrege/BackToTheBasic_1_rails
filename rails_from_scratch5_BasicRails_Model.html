<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-08-25 Wed 10:26 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Model</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Holy Frege" />
<meta name="description" content="Org-HTML export made simple."
 />
<meta name="keywords" content="org-mode, export, html, theme, style, css, js, bigblow" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">Model</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org3af491b">1. Model과 DB table만들기</a></li>
<li><a href="#org83f5bf9">2. migration 수정 참고 사항</a></li>
<li><a href="#org09b806e">3. model conventions</a></li>
<li><a href="#orgd819f76">4. Rails의  migration에 대해서1</a></li>
<li><a href="#org226192a">5. Rails의  migration에 대해서2</a>
<ul>
<li><a href="#org82345ff">5.1. migration수행 예제</a></li>
</ul>
</li>
<li><a href="#org5b9e3e5">6. Rails의 model에 관해서</a>
<ul>
<li><a href="#org452e7bd">6.1. model만들기</a></li>
</ul>
</li>
<li><a href="#org97af2b3">7. 에러 1(rails db:migrate시 발생하는 에러)</a></li>
<li><a href="#orgcab0ae1">8. timestamp에 관해서</a></li>
<li><a href="#orgbf1344e">9. timestamp와 column modifiers</a></li>
</ul>
</div>
</div>

<div id="outline-container-org3af491b" class="outline-2">
<h2 id="org3af491b"><span class="section-number-2">1</span> Model과 DB table만들기</h2>
<div class="outline-text-2" id="text-1">
<div class="note" id="org8346b68">
<p>
아래에서도 말하겠지만, rails에서 db table을 만드는 방식은 3가지가 있다.
</p>
<ul class="org-ul">
<li>1) rails g model model명 fields명: type &#x2026;
=&gt; 이것은 model파일과 migration(table을 만드는 sql)을 만든다.</li>
<li>2) rails g scaffold model명 fields명: type &#x2026;
=&gt; 이것은 model, controller, view, migration을 다 만든다.</li>
<li><p>
3) rails g migration createTable files명:type &#x2026;
=&gt; 이것은 migration(table 만드는 sql) 을 만든다.
</p>

<p>
실전에서 만들 때는 이렇게 만들면 안 된다. 왜냐면, table의 field들은 다양한 속성을 지니고 있다.  name:type만을 갖고 있지 않기 때문이다. 1),2),3) 어떤 식으로 만들더라도, 만든후에 migration을 수정해야 한다. null값이라던가, default값이라던가, unique속성, 여러가지 설정을 해야 한다.  <b>바로 rails db:migration해선 안된다.</b>  설정이 끝난 후에 rails db:migration해야 한다. 이것이 실수를 줄이는 길이다. rails db:migration을 하게 되면, schema에 적용이 되고, schema가 적용된 이후에 수정은 migration으로만 해야 하는데 이것이 쉽지 않기 때문이다.
</p></li>
</ul>

</div>
</div>
</div>
<div id="outline-container-org83f5bf9" class="outline-2">
<h2 id="org83f5bf9"><span class="section-number-2">2</span> migration 수정 참고 사항</h2>
<div class="outline-text-2" id="text-2">
<div class="note" id="orgb72889f">
<p>
rails db:migration전에 수정을 해야 한다고 했다. 어떻게 수정을 할 것인가?
하나의 예를 들어 보겠다.
</p>

</div>
<blockquote>
<p>
class CreatePvModuleInspections &lt; ActiveRecord::Migration[5.1]
 def change
   create<sub>table</sub> "pv<sub>module</sub><sub>inspections</sub>", id: false, primary<sub>key</sub>: :id do |t|
     t.primary<sub>key</sub> :id, :unsigned<sub>integer</sub>, null: false, auto<sub>increment</sub>: true
     t.integer :pv<sub>module</sub><sub>id</sub>, null: false, index: true, unsigned: true, limit: 8
     t.string :name
     t.datetime :inspection<sub>date</sub>
     t.text :measure<sub>image</sub><sub>result</sub><sub>data</sub>
</p>

<p>
  t.datetime :created<sub>at</sub>, null: false, default: -&gt; { 'CURRENT<sub>TIMESTAMP</sub>' }
  t.datetime :updated<sub>at</sub>, null: false, default: -&gt; { 'CURRENT<sub>TIMESTAMP</sub>' }
end
</p>

<p>
    add<sub>foreign</sub><sub>key</sub> :pv<sub>module</sub><sub>inspections</sub>, :pv<sub>modules</sub>, column: :pv<sub>module</sub><sub>id</sub>
  end
end
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org09b806e" class="outline-2">
<h2 id="org09b806e"><span class="section-number-2">3</span> model conventions</h2>
<div class="outline-text-2" id="text-3">
<div class="note" id="org1b7599e">
<p>
Model class : 첫 글자는 대문자.
Model class의 파일이름:  첫 글자는 소문자, 단수형
table: 첫글자는 소문자, 복수
</p>

</div>
</div>
</div>

<div id="outline-container-orgd819f76" class="outline-2">
<h2 id="orgd819f76"><span class="section-number-2">4</span> Rails의  migration에 대해서1</h2>
<div class="outline-text-2" id="text-4">
<div class="note" id="orgd652503">
<p>
Web programming을 할 때, db를 사용한다. 옛날에는 DB에 table을 만들고 column을 삭제하거나, column을 추가하는 작업을 sql문으로 직접 작업했다. mysql이면, mysql에 맞는 sql문을 사용했고, mssql이면 mssql에 맞는 sql문을 사용했다. sql문은 각각의 제품마다 고유한 형식을 갖는다. rails에서는 sql문법에 맞춰 개발자가 일일이 하나하나 작성하는것을 피했다. rails에서는 ActiveRecord라고 하는 class로 db를 제어하는 migrate file을 사용한다.  개발자는 table을 만들거나, column을 추가하거나, column을 삭제하는 sql문을 작성할 필요가 있다. 이럴때, rails는 sql문을 작성하는 것이 아닌, migration파일을 만든다. 즉  migration파일 = 순순 sql문장 이라고 보면 된다. migration을 만드는 방법은 다음과 같다.
</p>

</div>
<blockquote>
<p>
[Table만들기]
</p>
<ul class="org-ul">
<li>createTable명(table이름은 복수)</li>
<li>(ex) rails generate migration CreateProducts name:string part<sub>number</sub>:string ;; Products란 table을 만든다. name과 part<sub>number라는</sub> column을 만든다. timestamp는 자동으로  prefix된다.</li>
</ul>
</blockquote>

<div id="org56dc6d1" class="figure">
<p><img src="./img/createtable.png" alt="createtable.png" width="800px" />
</p>
<p><span class="figure-number">Figure 1: </span>create table</p>
</div>
<blockquote>
<p>
[Column추가]
</p>

<ul class="org-ul">
<li>AddColumn명ToTable명(table명은 복수)</li>
<li>(ex) rails generate migration AddPartNumber2ToProducts  ;; Products란 table에 PartNumber2란 column을 추가한다.
migration file에는 별다른 게 없다.</li>
</ul>
</blockquote>

<div id="org6a88752" class="figure">
<p><img src="./img/addcolumn.png" alt="addcolumn.png" width="800px" />
</p>
<p><span class="figure-number">Figure 2: </span>add column</p>
</div>

<blockquote>
<p>
[Column 삭제]
</p>

<ul class="org-ul">
<li>RemoveColumnFromTable명</li>
<li>(ex) rails generate migration RemovePartNumber2ToProducts  ;; Products란 table에 PartNumber2란 column을 삭제한다.
이것도 migration파일에는 별다른게 없다.</li>
</ul>
</blockquote>

<div id="orgaca8e9d" class="figure">
<p><img src="./img/removecolumn.png" alt="removecolumn.png" width="800px" />
</p>
<p><span class="figure-number">Figure 3: </span>remove column</p>
</div>

<p>
[Column 수정]
</p>
<ul class="org-ul">
<li>column수정은 좀 다르다. 우선 migration파일부터 만든다. 그리고 만들어진 migration file을 수정하는 식으로 처리한다.</li>
<li>migration을 만들 때 change로 시작하는 migration을 만들고 수정하는 식으로 한다.</li>
<li>(ex)</li>
</ul>
</div>
</div>

<div id="outline-container-org226192a" class="outline-2">
<h2 id="org226192a"><span class="section-number-2">5</span> Rails의  migration에 대해서2</h2>
<div class="outline-text-2" id="text-5">
<div class="note" id="org69d1464">
<p>
migration파일이 있다면, 이것은 순수 sql문이라고 보면 된다. 10개의 migration파일이 있으면, 10개의 table관련 sql문이 있다. 그정도다. 별다른 의미는 없다.  옛날에는 mysql db를 사용한다면 mysql sql문으로 table을 만들거나 column을 추가하는 real sql문을 사용했는데, migration파일은 순수 sql문이라면 실제 db와 어떻게 연결해서 table을 만들고, column을 추가, 삭제 하는가? rails db:migrate라는 명령이 그것을 해준다. rails db:migrate를 실행하면, rails는 database.yml를 읽는다. 여기에는 db adapter와 database,그리고 실제 연결된 db관련 정보가 있다. 이 정보를 바탕으로 migrate파일( 순수 sql문)을 db에 맞는 sql로 바꿔서 schema라는 real sql문장으로 만든다. 이것이 db:schema:dump라는 명려어다. 여튼 여러개의 migration파일들을 읽고 db:schema:dump로 schema.rb를 계속 update한다. rails db:migration은 최종적으로 이렇게 만들어진 schema.rb를 실행해서 실제 table을 만드는 것이다.
</p>

</div>
</div>
<div id="outline-container-org82345ff" class="outline-3">
<h3 id="org82345ff"><span class="section-number-3">5.1</span> migration수행 예제</h3>
<div class="outline-text-3" id="text-5-1">
<div class="note" id="org334ba1b">
<ol class="org-ol">
<li>table을 만드는 migration을 작성한다. (rails g migration CreateMyStore item<sub>name</sub>:string item<sub>price</sub>:float)</li>
<li>rake db:migration</li>
</ol>

</div>

<div id="orgea15a08" class="figure">
<p><img src="./img/migration1.png" alt="migration1.png" width="800px" />
</p>
<p><span class="figure-number">Figure 4: </span>migration</p>
</div>


<div id="org8588d45" class="figure">
<p><img src="./img/migration2.png" alt="migration2.png" width="800px" />
</p>
<p><span class="figure-number">Figure 5: </span>migration2</p>
</div>
<div class="note" id="org50c7bee">
<ol class="org-ol">
<li>column을 추가해 보자. (rails g migration AddItemColorToMyStore)</li>
<li>rake db:migration</li>
</ol>

</div>

<div id="org192cb5a" class="figure">
<p><img src="./img/migration3.png" alt="migration3.png" width="800px" />
</p>
<p><span class="figure-number">Figure 6: </span>migration3</p>
</div>

<div id="org34f2b26" class="figure">
<p><img src="./img/migration4.png" alt="migration4.png" width="800px" />
</p>
<p><span class="figure-number">Figure 7: </span>migration4</p>
</div>
<div class="note" id="orge93bcd2">
<p>
그런데 실수로 item<sub>color라는</sub> 필드는 할 필요가 없는 것이였다. 어떻게 할까? migration을 지우고 다시 rails db:migrate를 하면 될까?
해보자.
</p>

</div>

<div id="orge77fee0" class="figure">
<p><img src="./img/migrate5.png" alt="migrate5.png" width="800px" />
</p>
<p><span class="figure-number">Figure 8: </span>migrate5</p>
</div>


<div id="org554feba" class="figure">
<p><img src="./img/migrate6.png" alt="migrate6.png" width="800px" />
</p>
<p><span class="figure-number">Figure 9: </span>migrate6</p>
</div>
<div class="note" id="orga0292b6">
<p>
그렇다. 수동으로 지우고 db:migration하면 반영되지 않는다. 무조건 migration파일을 만들어서 지워야 한다. 
</p>

</div>
</div>
</div>
</div>
<div id="outline-container-org5b9e3e5" class="outline-2">
<h2 id="org5b9e3e5"><span class="section-number-2">6</span> Rails의 model에 관해서</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org452e7bd" class="outline-3">
<h3 id="org452e7bd"><span class="section-number-3">6.1</span> model만들기</h3>
<div class="outline-text-3" id="text-6-1">
<div class="note" id="orgf034c3a">
<p>
우리는 model을 만들때, rails g model User와 같이 generator를 통해서 만든다. 혹은  rails g scaffold User와 같이 만들 수 도 있다. model이나 scaffold를 만드는 것은 db 테이블도 같이 만드는 것이기 때문에 반드시 column을 나열해줘야 한다.
</p>

</div>
<blockquote>
<p>
rails g model User name:string age:integer
</p>
</blockquote>
<div class="note" id="org15d81e2">
<p>
<b>그런데, 이렇게 generate model, scaffold model을 만들면 table을 만드는 sql문 migration이 하나 생긴다는 것이다.</b> 
</p>

</div>
</div>
</div>
</div>

<div id="outline-container-org97af2b3" class="outline-2">
<h2 id="org97af2b3"><span class="section-number-2">7</span> 에러 1(rails db:migrate시 발생하는 에러)</h2>
<div class="outline-text-2" id="text-7">
<div class="note" id="org4d49816">
<p>
어떤 식의 에러인지는 모르겠지만, 지금 생각할 수 있는것은&#x2026;
</p>
<ol class="org-ol">
<li>migration파일을 rails g model, rails g scaffold, rails g migration&#x2026;등을 써서 만들고, rails db:migrate를 했을 때 에러가 나는 경우, 어떻게 해야 할까? 이렇게 에러가 나는 경우는 migration 파일이 잘 못된 경우로 봐야 한다. 그래서 migration을 지우고 다시 생성하는게 유일한 해결책인 듯 보이지만, 이것은 좀 살펴봐야 한다. 어떤 식으로 migration file을 생성했는지를 알아야 하기 때문이다. 단순히 rails g migration으로 만들어진 migration파일이었다면 rails db:migrate시 에러가 나는 것은 해당 migration을 지우고 다시 만들면 깨끗이 해결된다. 그런데 만일 rails g model 로 만들어졌다면, 문제가 좀 다르다. rails g model은 model파일과 migration파일을 만들기 때문에 migration만 지우고 rails db:migrate하면 다시 에러가 생기기 때문이다. 이럴 때는 rails destroy model를 실행해야 한다. scaffold도 동일하다. rails destroy scaffold 로 지워야 한다.</li>
</ol>

</div>
<div class="note" id="org52abb0b">
<p>
다시 정리하면,
</p>
<ul class="org-ul">
<li><b>rails g migration CreateTable, rails g migration AddColumnToTable, rails g migration RemoveColumnFromTable</b> 로 만든 경우
=&gt;  <b>migration파일을 지운다.</b></li>

<li><b>rails g model Model명</b> 으로 만든 경우
=&gt; <b>rails destroy model Model명</b> 으로 지운다.</li>

<li><b>rails g scaffold Resource명</b> 으로 만든 경우
=&gt; <b>rails destroy scaffold Resource명</b> 으로 지운다.</li>
</ul>

</div>
</div>
</div>

<div id="outline-container-orgcab0ae1" class="outline-2">
<h2 id="orgcab0ae1"><span class="section-number-2">8</span> timestamp에 관해서</h2>
<div class="outline-text-2" id="text-8">
<div class="note" id="org552b6c4">
<p>
timestamp는  :create<sub>at과</sub> update<sub>at이</sub> 자동으로 만들어진다. 하지만 data가 입력될때, 시간이 자동으로 입력되진 않는다. 그래서
RemoveTimestampsTable로 timestamps를 지우고, AddDetailsToTable로 2개의 column을  추가해야 한다. 예를 들어, my<sub>stores라는</sub> table에 있는 Timestamps라는 field를 지운다고 하자. 그리고 2개의  column을 추가한다고 하자. 해당 명령어를 입력하고 name과 type을 명시하는 것을 잊지말자.
</p>

</div>
<blockquote>
<p>
RemoveTimestampsFromMyStore timestamp
t.datetime :created<sub>at</sub>, null: false, default: -&gt; { 'CURRENT<sub>TIMESTAMP</sub>' }
t.datetime :updated<sub>at</sub>, null: false, default: -&gt; { 'CURRENT<sub>TIMESTAMP</sub>' }
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgbf1344e" class="outline-2">
<h2 id="orgbf1344e"><span class="section-number-2">9</span> timestamp와 column modifiers</h2>
<div class="outline-text-2" id="text-9">
<div class="note" id="org70c65df">
<p>

</p>

</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Holy Frege</p>
<p class="date">Created: 2021-08-25 Wed 10:26</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
